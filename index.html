<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Lost Artifact - A Choose Your Own Adventure</title>
    <style>
        body {
            font-family: 'Georgia', serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }

        .container {
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 2.2em;
        }

        #story {
            font-size: 1.1em;
            margin-bottom: 25px;
        }

        #choices {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .choice-btn {
            padding: 12px 18px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
        }

        .choice-btn:hover {
            background-color: #2980b9;
        }

        #restart {
            display: block;
            margin: 20px auto 0;
            padding: 8px 16px;
            background-color: #e74c3c;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            background-color: #f8f9fa;
            padding: 10px;
            border-radius: 4px;
            margin-bottom: 20px;
        }

        .stats div {
            text-align: center;
        }

        .title-screen {
            text-align: center;
        }

        .title-screen h1 {
            font-size: 3em;
            margin-bottom: 10px;
        }

        .title-screen p {
            font-style: italic;
            margin-bottom: 30px;
        }

        #start-game {
            padding: 15px 30px;
            font-size: 1.2em;
            background-color: #2ecc71;
        }
    </style>
</head>
<body>
    <div class="container" id="game-container">
        <!-- Content will be dynamically loaded here -->
    </div>

    <script>
     // Game state
     let playerState = {
         health: 100,
         inventory: [],
         visited: []
     };

     // Story data - in a real game, this would be loaded from a separate JSON file
     const storyData = {
         "start": {
             "title": "The Lost Artifact",
             "description": "You are an archaeologist on the trail of a legendary artifact, rumored to grant immense power to its owner. Your research has led you to a remote jungle, where you now stand before an ancient temple entrance.",
             "choices": [
                 { "text": "Enter the temple cautiously", "next": "temple_entrance" },
                 { "text": "Search around the outside first", "next": "temple_exterior" },
                 { "text": "Check your research notes one more time", "next": "check_notes" }
             ]
         },
         "temple_entrance": {
             "title": "The Temple Entrance",
             "description": "You step inside the temple. Sunlight filters through cracks in the ceiling, revealing a dusty chamber with two corridors leading deeper inside. A stone pedestal stands in the center of the room with curious markings.",
             "choices": [
                 { "text": "Take the left corridor", "next": "left_corridor" },
                 { "text": "Take the right corridor", "next": "right_corridor" },
                 { "text": "Examine the stone pedestal", "next": "examine_pedestal" }
             ]
         },
         "temple_exterior": {
             "title": "Temple Exterior",
             "description": "As you circle the temple, you notice a small opening in the side wall. It looks like it might be a hidden entrance. You also spot some fresh boot prints in the mud nearby, suggesting someone else has been here recently.",
             "choices": [
                 { "text": "Try the hidden entrance", "next": "hidden_entrance" },
                 { "text": "Follow the boot prints", "next": "follow_prints" },
                 { "text": "Return to the main entrance", "next": "start" }
             ]
         },
         "check_notes": {
             "title": "Research Notes",
             "description": "Your notes mention a warning about traps near the entrance. They also indicate that the temple may have a hidden chamber accessible only during specific lunar alignments. Today happens to be the full moon.",
             "choices": [
                 { "text": "Enter the temple with caution about traps", "next": "cautious_entry" },
                 { "text": "Look for signs of a secret entrance related to the moon", "next": "moon_entrance" },
                 { "text": "Put away the notes and enter normally", "next": "temple_entrance" }
             ]
         },
         "left_corridor": {
             "title": "The Left Corridor",
             "description": "The corridor descends steeply. The air grows cold and damp. After a few minutes of careful walking, you reach a chamber with a still, black pool in the center. Strange symbols are carved around the edge of the pool.",
             "choices": [
                 { "text": "Examine the symbols", "next": "pool_symbols" },
                 { "text": "Test the water with a stick", "next": "test_pool" },
                 { "text": "Return to the entrance chamber", "next": "temple_entrance" }
             ]
         },
         "right_corridor": {
             "title": "The Right Corridor",
             "description": "The corridor extends horizontally with cobwebs hanging from the ceiling. You come to a chamber filled with ancient pottery, some still intact after centuries. A skeleton lies slumped against the far wall.",
             "choices": [
                 { "text": "Examine the pottery", "next": "examine_pottery" },
                 { "text": "Investigate the skeleton", "next": "skeleton" },
                 { "text": "Return to the entrance chamber", "next": "temple_entrance" }
             ]
         },
         "examine_pedestal": {
             "title": "The Stone Pedestal",
             "description": "The pedestal has a circular depression on top, about the size of your palm. The markings appear to be an ancient form of writing. You recognize a few symbols that refer to the moon and stars. There appears to be a hidden mechanism inside.",
             "choices": [
                 { "text": "Place your hand in the depression", "next": "activate_pedestal" },
                 { "text": "Look for something to place in the depression", "next": "find_artifact_piece" },
                 { "text": "Step away from the pedestal", "next": "temple_entrance" }
             ]
         },
         "hidden_entrance": {
             "title": "The Hidden Entrance",
             "description": "You squeeze through the narrow opening and find yourself in a small chamber. There's a raised stone altar with a small golden idol sitting atop it. The chamber seems undisturbed for centuries.",
             "choices": [
                 { "text": "Take the golden idol", "next": "take_idol" },
                 { "text": "Examine the altar more carefully", "next": "examine_altar" },
                 { "text": "Leave and return to the temple exterior", "next": "temple_exterior" }
             ]
         },
         "follow_prints": {
             "title": "Following the Prints",
             "description": "The boot prints lead away from the temple and toward a small campsite hidden in the jungle. You see a tent, some equipment, and signs of recent activity. Nobody seems to be around at the moment.",
             "choices": [
                 { "text": "Search the camp", "next": "search_camp" },
                 { "text": "Call out to see if anyone's nearby", "next": "call_out" },
                 { "text": "Return to the temple", "next": "temple_exterior" }
             ]
         },
         "cautious_entry": {
             "title": "Cautious Entry",
             "description": "With your knowledge of potential traps, you carefully examine the floor and walls as you enter. You notice thin pressure plates on certain floor tiles and manage to avoid them. Your caution pays off as you safely reach the main chamber.",
             "choices": [
                 { "text": "Take the left corridor", "next": "left_corridor" },
                 { "text": "Take the right corridor", "next": "right_corridor" },
                 { "text": "Examine the stone pedestal", "next": "examine_pedestal" }
             ]
         },
         "moon_entrance": {
             "title": "The Lunar Secret",
             "description": "You study the temple exterior in the moonlight. As the full moon rises higher, its light illuminates a series of reflective stones embedded in the temple walls. They form a pattern pointing to what appears to be a solid wall. When you touch it, the wall slides open silently.",
             "choices": [
                 { "text": "Enter the secret passage", "next": "secret_passage" },
                 { "text": "Mark the location but return to the main entrance", "next": "temple_entrance" },
                 { "text": "Search around the temple more", "next": "temple_exterior" }
             ]
         },
         "secret_passage": {
             "title": "The Secret Passage",
             "description": "The moonlit passage leads directly to a magnificent chamber. In the center, bathed in moonlight from an opening in the ceiling, rests the artifact you've been seeking - a crystalline orb that seems to glow with an inner light. This must be the legendary Lunar Orb!",
             "choices": [
                 { "text": "Take the Lunar Orb", "next": "take_lunar_orb" },
                 { "text": "Study the chamber for traps", "next": "study_orb_chamber" },
                 { "text": "Look for other artifacts in the chamber", "next": "search_orb_chamber" }
             ]
         },
         "take_lunar_orb": {
             "title": "The Artifact Is Yours",
             "description": "You carefully lift the Lunar Orb from its pedestal. Its weight is surprising, and it pulses with energy in your hands. You sense its ancient power. Suddenly, the temple begins to shake slightly, but nothing collapses. You've done it - you've recovered the legendary artifact!",
             "choices": [
                 { "text": "Exit through the secret passage", "next": "victory" },
                 { "text": "Look for any documentation about the orb", "next": "orb_documents" }
             ]
         },
         "victory": {
             "title": "VICTORY",
             "description": "Congratulations! You have successfully recovered the Lunar Orb. As you make your way back to civilization, you can feel the artifact's power growing. Your name will go down in archaeological history, and the mysteries of the orb are now yours to uncover. THE END.",
             "choices": [
                 { "text": "Play Again", "next": "restart" }
             ]
         },
         "game_over": {
             "title": "GAME OVER",
             "description": "Your adventure has come to an unfortunate end. Perhaps another explorer will succeed where you have failed.",
             "choices": [
                 { "text": "Try Again", "next": "restart" }
             ]
         }
         // Additional scenes would be added here
     };

     function renderTitleScreen() {
         const container = document.getElementById('game-container');
         container.innerHTML = `
             <div class="title-screen">
                 <h1>The Lost Artifact</h1>
                 <p>A Choose Your Own Adventure Game</p>
                 <button id="start-game" class="choice-btn">Begin Your Adventure</button>
             </div>
         `;

         document.getElementById('start-game').addEventListener('click', () => {
             renderScene('start');
         });
     }

     function renderScene(sceneId) {
         // Reset game if it's a restart
         if (sceneId === 'restart') {
             playerState = {
                 health: 100,
                 inventory: [],
                 visited: []
             };
             renderTitleScreen();
             return;
         }

         // Get scene data
         const scene = storyData[sceneId];

         // If scene doesn't exist, show error
         if (!scene) {
             console.error('Scene not found:', sceneId);
             return;
         }

         // Mark scene as visited
         if (!playerState.visited.includes(sceneId)) {
             playerState.visited.push(sceneId);
         }

         // Build HTML for scene
         const container = document.getElementById('game-container');

         // Create stats bar
         const statsHtml = `
             <div class="stats">
                 <div>Health: ${playerState.health}%</div>
                 <div>Progress: ${Math.floor((playerState.visited.length / Object.keys(storyData).length) * 100)}%</div>
                 <div>Inventory: ${playerState.inventory.length > 0 ? playerState.inventory.join(', ') : 'Empty'}</div>
             </div>
         `;

         // Create choices
         const choicesHtml = scene.choices.map(choice =>
             `<button class="choice-btn" data-next="${choice.next}">${choice.text}</button>`
         ).join('');

         // Build full scene HTML
         container.innerHTML = `
             <h1>${scene.title}</h1>
             <div id="story">${scene.description}</div>
             <div id="choices">${choicesHtml}</div>
             <button id="restart">Restart Game</button>
             ${statsHtml}
         `;

         // Add event listeners to choice buttons
         document.querySelectorAll('.choice-btn').forEach(button => {
             button.addEventListener('click', () => {
                 const nextScene = button.getAttribute('data-next');
                 renderScene(nextScene);
             });
         });

         // Add event listener to restart button
         document.getElementById('restart').addEventListener('click', () => {
             if (confirm('Are you sure you want to restart the game? All progress will be lost.')) {
                 renderScene('restart');
             }
         });

         // Save game state to localStorage
         saveGame();
     }

     function saveGame() {
         localStorage.setItem('cyoaGameState', JSON.stringify({
             currentScene: playerState.visited[playerState.visited.length - 1] || 'start',
             playerState: playerState
         }));
     }

     function loadGame() {
         const savedGame = localStorage.getItem('cyoaGameState');
         if (savedGame) {
             const gameData = JSON.parse(savedGame);
             playerState = gameData.playerState;
             return gameData.currentScene;
         }
         return null;
     }

     // Initialize game
     window.addEventListener('DOMContentLoaded', () => {
         const savedScene = loadGame();
         if (savedScene) {
             renderScene(savedScene);
         } else {
             renderTitleScreen();
         }
     });
    </script>
</body>
</html>
